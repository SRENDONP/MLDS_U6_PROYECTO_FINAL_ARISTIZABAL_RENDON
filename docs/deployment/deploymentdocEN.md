# Model Deployment

## Infrastructure

- **Model Name:** clasification_report_rx
- **Deployment Platform:** The chosen platform for deploying the model is [Streamlit](https://streamlit.io/).

    Streamlit was chosen for deploying the deep learning model for several fundamental reasons:

    - **Ease of Use:**
      Streamlit's straightforward and direct approach makes it an ideal choice. The ability to create an interactive user interface without needing advanced knowledge in more complex web technologies allows for rapid and efficient development.

    - **Rapid Prototyping:**
      Streamlit facilitates quick prototyping, allowing real-time adjustments to the user interface. This feature is crucial during the development and experimentation with deep learning models.

    - **Integration with TensorFlow Models:**
      Streamlit offers seamless integration with deep learning models, including those developed with TensorFlow and PyTorch. The ability to efficiently load and utilize trained models simplifies implementation and allows focus on result presentation and understanding.

    - **Active Community and Clear Documentation:**
      The choice is backed by Streamlit's active community and comprehensive documentation. This combination provides solid resources for troubleshooting and expanding the application's capabilities.

    - **Scalability:**
      Streamlit is scalable enough for larger projects. The ability to incorporate new functionalities as the application evolves ensures ongoing adaptability.

    - **Hassle-Free Interactivity:**
      Streamlit's built-in interactive widgets, such as buttons and sliders, simplify the creation of interactive experiences without the need for extensive additional coding.

    In summary, the choice of Streamlit is based on its simplicity, speed of development, and seamless integration with deep learning models. This choice allows the focus to be on effective interpretation and presentation of model results, without the complexity associated with web infrastructure.

- **Technical Requirements:** 
    ```
    plaintext
    numpy==1.23.0
    opencv-python-headless
    h5py
    keras
    protobuf~=3.19.0
    tensorflow==2.11.1
    tensorboard==2.11.1
    ```

- **Security Requirements:**
    
    No encryption method was implemented for secure data transfer throughout the deployment process. 

- **Architecture Diagram:** 
    
    ![Architecture Diagram](/src/nombre_paquete/images/diagrama.PNG)

## Deployment Code

- **Main File:** 

    - [Main File](../../scripts/deploy/app.py)

- **Access Paths to Files:**

    - [app.py](../../scripts/deploy/app.py)
    - [utils.py](../../scripts/deploy/utils.py)
    - [requirements.txt](../../scripts/deploy/requirements.txt)
    - [README.md](../../scripts/deploy/README.md)
    - [model_VGG19.h5](../../scripts/deploy/model_VGG19.h5)
    
- **Environment Variables:** 

    Not applicable for the project.

## Deployment Documentation

- **Installation Instructions:** 

    A file named model_VGG19.h5 containing the trained model was created, as it showed the best results after training. A branch named deploy was created in the repository, containing the project files, including app.py and utils.py, which contain the integration with the Streamlit platform and the programming logic to evaluate uploaded images for pneumonia diagnosis. The requirements.txt file was also created to list the libraries necessary for the application's proper deployment. The app.py file was built using the Streamlit library, which provides the necessary functions to create a more user-friendly frontend for interaction with the platform.

- **Configuration Instructions:**

    - First, create an account on [Streamlit](https://streamlit.io/) and connect it with your GitHub account.
        ![Connect GitHub](/src/nombre_paquete/images/conect_github.PNG)
    - Next, on Streamlit's dashboard, create a new app.
        ![New App](/src/nombre_paquete/images/new_app.PNG)
    - Fill out the form by selecting the project repository **MLDS_U6_PROYECTO_FINAL_ARISTIZABAL_RENDON**, choose the branch **deploy**, and point to the file **app.py** for execution.
        ![Deploy](/src/nombre_paquete/images/deploy.PNG)
    - Finally, click on deploy, and Streamlit will internally deploy the application and redirect you directly to it.
        ![Application](/src/nombre_paquete/images/application.PNG)

- **Usage Instructions:**

    - Following the above steps, enter the URL generated by Streamlit, where you can find a field to upload an X-ray image for evaluation.
        ![Upload](/src/nombre_paquete/images/upload.PNG)
    - For the example, the selected image is as follows:
        ![X-ray Image](/src/nombre_paquete/images/person55_virus_110.jpeg)
    - Finally, the application will provide the diagnostic response to the image.
        ![Results](/src/nombre_paquete/images/results.PNG)
